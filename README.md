# AIå¤‡è€ƒé™ªä¼´æ•™ç»ƒ - è€ƒå…¬ Agent é¡¹ç›®

ä¸€ä¸ªåŸºäº LangGraph + MCP + RAG çš„æ™ºèƒ½è€ƒå…¬å¤‡è€ƒé™ªä¼´ç³»ç»Ÿã€‚

## ğŸ¯ é¡¹ç›®å®šä½

åŒºåˆ«äºä¼ ç»Ÿåˆ·é¢˜APPçš„å†·å†°å†°ï¼Œé€šè¿‡ï¼š
- ğŸ¤– **ä¸»åŠ¨é™ªä¼´**ï¼šæ—©æ™šé—®å€™ + å­¦ä¹ æé†’
- ğŸ’¬ **æƒ…æ„Ÿæ”¯æŒ**ï¼šè¯†åˆ«ç„¦è™‘ï¼Œæä¾›ç–å¯¼
- ğŸ“š **æ™ºèƒ½å»ºè®®**ï¼šåŸºäºRAGçš„ä¸ªæ€§åŒ–å­¦ä¹ æŒ‡å¯¼
- âœ… **ä»»åŠ¡ç®¡ç†**ï¼šé£ä¹¦ä»»åŠ¡MCPé›†æˆï¼Œæ™ºèƒ½è§„åˆ’å­¦ä¹ 

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Web å‰ç«¯ (Next.js 14)                     â”‚
â”‚              6ä¸ªé¡µé¢: å¯¹è¯/ä¸“æ³¨/çœ‹æ¿/ä»»åŠ¡/æ—¥å†/ä¸ªäºº           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              LangGraph Agent (å¤šè½®å¯¹è¯å¼•æ“)                  â”‚
â”‚         çŠ¶æ€æœºç®¡ç† + æ„å›¾è¯†åˆ« + å¿«æ·å›å¤ + æƒ…æ„Ÿæ”¯æŒ           â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                  â”‚
     â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç™¾ç‚¼ RAG MCP    â”‚          â”‚   é£ä¹¦ä»»åŠ¡ MCP           â”‚
â”‚ â€¢ ç”¨æˆ·å­¦ä¹ å†å²   â”‚          â”‚   â€¢ åˆ›å»ºä»»åŠ¡            â”‚
â”‚ â€¢ å¤‡è€ƒç»éªŒåº“     â”‚          â”‚   â€¢ æŸ¥è¯¢è¿›åº¦            â”‚
â”‚ â€¢ æ™ºèƒ½æ£€ç´¢       â”‚          â”‚   â€¢ è‡ªåŠ¨åˆ†è§£            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   æ ¸å¿ƒåŒ… (core)      â”‚
         â”‚   ç±»å‹ + å·¥å…· + å¸¸é‡   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ æ¨¡å—ç»“æ„

```
civil-service-agent/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒåŒ…ï¼ˆå…±äº«ä»£ç ï¼‰
â”‚   â”œâ”€â”€ mcp-bailian-rag/       # é˜¿é‡Œäº‘ç™¾ç‚¼ RAG MCP
â”‚   â”œâ”€â”€ mcp-feishu-tasks/      # é£ä¹¦ä»»åŠ¡ MCP
â”‚   â”œâ”€â”€ agent-langgraph/       # LangGraph Agent å¼•æ“
â”‚   â”œâ”€â”€ scheduler/             # å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨
â”‚   â””â”€â”€ web/                   # Next.js Web åº”ç”¨
â”œâ”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ data/                      # æ•°æ®ç›®å½•
â””â”€â”€ scripts/                   # è„šæœ¬ç›®å½•
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- pnpm >= 8.0.0

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥å¿…è¦çš„ API Keys
```

### åˆå§‹åŒ–çŸ¥è¯†åº“

```bash
pnpm --filter @civil-agent/mcp-bailian-rag init-kb
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨ Web åº”ç”¨
pnpm dev

# å¯åŠ¨ MCP æœåŠ¡å™¨ï¼ˆéœ€è¦å•ç‹¬å¯åŠ¨ï¼‰
pnpm --filter @civil-agent/mcp-bailian-rag dev
pnpm --filter @civil-agent/mcp-feishu-tasks dev
```

## ğŸ“š å¼€å‘æ–‡æ¡£

æ¯ä¸ªæ¨¡å—éƒ½æœ‰ç‹¬ç«‹çš„ `SKILL.md` æ–‡æ¡£ï¼Œè¯¦ç»†è¯´æ˜ï¼š

- **packages/core/SKILL.md** - æ ¸å¿ƒåŒ…æŠ€èƒ½æ–‡æ¡£
- **packages/mcp-bailian-rag/SKILL.md** - ç™¾ç‚¼ RAG æŠ€èƒ½æ–‡æ¡£
- **packages/mcp-feishu-tasks/SKILL.md** - é£ä¹¦ä»»åŠ¡æŠ€èƒ½æ–‡æ¡£
- **packages/agent-langgraph/SKILL.md** - Agent æŠ€èƒ½æ–‡æ¡£
- **packages/scheduler/SKILL.md** - è°ƒåº¦å™¨æŠ€èƒ½æ–‡æ¡£
- **packages/web/SKILL.md** - Web åº”ç”¨æŠ€èƒ½æ–‡æ¡£

è¯¦ç»†æ–‡æ¡£è¯·æŸ¥çœ‹ `docs/` ç›®å½•ã€‚

## ğŸ› ï¸ å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼
pnpm dev

# æ„å»º
pnpm build

# æµ‹è¯•
pnpm test

# ä»£ç æ£€æŸ¥
pnpm lint
pnpm type-check

# æ ¼å¼åŒ–ä»£ç 
pnpm format

# æ¸…ç†
pnpm clean
```

## ğŸ“Š å¼€å‘è¿›åº¦

| æ¨¡å— | çŠ¶æ€ | è¿›åº¦ |
|------|------|------|
| core | ğŸ“… è®¡åˆ’ä¸­ | 0% |
| mcp-bailian-rag | ğŸ“… è®¡åˆ’ä¸­ | 0% |
| agent-langgraph | ğŸ“… è®¡åˆ’ä¸­ | 0% |
| mcp-feishu-tasks | ğŸ“… è®¡åˆ’ä¸­ | 0% |
| scheduler | ğŸ“… è®¡åˆ’ä¸­ | 0% |
| web | ğŸ“… è®¡åˆ’ä¸­ | 0% |

## ğŸ“ æŠ€æœ¯æ ˆ

### å‰ç«¯
- Next.js 14 (App Router)
- TailwindCSS + shadcn/ui
- TypeScript
- Framer Motion

### åç«¯
- LangChain.js + LangGraph
- é˜¿é‡Œäº‘ç™¾ç‚¼çŸ¥è¯†åº“
- é£ä¹¦å¼€æ”¾å¹³å° API
- node-cron + Bull Queue

### æ•°æ®åº“
- Supabase (PostgreSQL)
- é˜¿é‡Œäº‘ç™¾ç‚¼ï¼ˆå‘é‡æ•°æ®åº“ï¼‰

## ğŸ“„ è®¸å¯è¯

MIT

## ğŸ‘¨â€ğŸ’» ä½œè€…

sxh

---

**åŸºäº MODULAR-RAG-MCP-SERVER çš„æ¨¡å—åŒ–æ¶æ„è®¾è®¡**
